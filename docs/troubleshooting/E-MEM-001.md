# E-MEM-001: Memory è®€å–å¤±æ•—

## éŒ¯èª¤è³‡è¨Š

| æ¬„ä½ | å€¼ |
|------|-----|
| éŒ¯èª¤ç¢¼ | E-MEM-001 |
| åç¨± | è®€å–å¤±æ•— |
| åš´é‡åº¦ | HIGH |
| é¡åˆ¥ | Memory å­˜å– |

## èªªæ˜

ç•¶ç³»çµ±ç„¡æ³•è®€å–æŒ‡å®šçš„ Memory æª”æ¡ˆæ™‚ï¼Œæœƒè§¸ç™¼æ­¤éŒ¯èª¤ã€‚Memory ç³»çµ±ç”¨æ–¼å­˜å„²å·¥ä½œæµçš„ä¸­é–“ç”¢å‡ºå’Œæ­·å²è¨˜éŒ„ã€‚

## å¸¸è¦‹å ´æ™¯

### å ´æ™¯ 1ï¼šæª”æ¡ˆä¸å­˜åœ¨

**ç‹€æ³**ï¼šå˜—è©¦è®€å–çš„ Memory æª”æ¡ˆä¸å­˜åœ¨ã€‚

**åŸå› **ï¼š
- å·¥ä½œæµ ID éŒ¯èª¤
- æª”æ¡ˆå·²è¢«åˆªé™¤
- è·¯å¾‘æ‹¼å¯«éŒ¯èª¤

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. ç¢ºèªå·¥ä½œæµ ID æ­£ç¢º
2. åˆ—å‡ºç¾æœ‰æª”æ¡ˆï¼š`ls .claude/memory/`
3. ä½¿ç”¨æ­£ç¢ºçš„æª”æ¡ˆè·¯å¾‘

### å ´æ™¯ 2ï¼šæ¬Šé™å•é¡Œ

**ç‹€æ³**ï¼šæª”æ¡ˆå­˜åœ¨ä½†ç„¡æ³•è®€å–ã€‚

**åŸå› **ï¼š
- æª”æ¡ˆæ¬Šé™è¨­å®šéŒ¯èª¤
- ä½¿ç”¨è€…æ¬Šé™ä¸è¶³
- æª”æ¡ˆå±¬æ–¼å…¶ä»–ä½¿ç”¨è€…

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. æª¢æŸ¥æ¬Šé™ï¼š`ls -la {file_path}`
2. ä¿®æ­£æ¬Šé™ï¼š`chmod 644 {file_path}`
3. ç¢ºèªåŸ·è¡Œèº«ä»½

### å ´æ™¯ 3ï¼šæª”æ¡ˆæå£

**ç‹€æ³**ï¼šæª”æ¡ˆå­˜åœ¨ä½†å…§å®¹æå£ã€‚

**åŸå› **ï¼š
- å¯«å…¥éç¨‹ä¸­æ–·
- ç£ç¢ŸéŒ¯èª¤
- æª”æ¡ˆç³»çµ±å•é¡Œ

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. å˜—è©¦è®€å–æª”æ¡ˆå…§å®¹ç¢ºèª
2. å¾å‚™ä»½æ¢å¾©
3. ä½¿ç”¨ `--no-memory` è·³é

## å¿«é€Ÿä¿®å¾©

### æ–¹æ³• 1ï¼šç¢ºèªæª”æ¡ˆå­˜åœ¨

```bash
# åˆ—å‡º Memory ç›®éŒ„å…§å®¹
ls -la .claude/memory/

# æœå°‹ç‰¹å®šå·¥ä½œæµ
ls -la .claude/memory/*/user-auth/
```

### æ–¹æ³• 2ï¼šä¿®æ­£æ¬Šé™

```bash
# ä¿®æ­£å–®å€‹æª”æ¡ˆ
chmod 644 .claude/memory/research/user-auth/meta.yaml

# ä¿®æ­£æ•´å€‹ç›®éŒ„
chmod -R 755 .claude/memory/
```

### æ–¹æ³• 3ï¼šè·³é Memory è®€å–

å¦‚æœå•é¡Œç„¡æ³•ç«‹å³è§£æ±ºï¼Œå¯ä»¥è·³é Memoryï¼š

```bash
/multi-orchestrate --no-memory "ä»»å‹™æè¿°"
```

### æ–¹æ³• 4ï¼šé‡æ–°å»ºç«‹

å¦‚æœæª”æ¡ˆæå£ï¼Œé‡æ–°åŸ·è¡Œå°æ‡‰éšæ®µï¼š

```bash
/multi-orchestrate --start-at {stage} "ä»»å‹™æè¿°"
```

## æ·±å…¥åˆ†æ

### è¨ºæ–·æ­¥é©Ÿ

1. **ç¢ºèªå®Œæ•´è·¯å¾‘**

   éŒ¯èª¤è¨Šæ¯æœƒåŒ…å«å˜—è©¦è®€å–çš„è·¯å¾‘ï¼š
   ```
   ğŸ“ è·¯å¾‘: .claude/memory/research/user-auth/meta.yaml
   ```

2. **æª¢æŸ¥æª”æ¡ˆç‹€æ…‹**

   ```bash
   # æª”æ¡ˆæ˜¯å¦å­˜åœ¨
   test -f {path} && echo "å­˜åœ¨" || echo "ä¸å­˜åœ¨"

   # æª”æ¡ˆæ¬Šé™
   ls -la {path}

   # æª”æ¡ˆå…§å®¹ï¼ˆéƒ¨åˆ†ï¼‰
   head -10 {path}
   ```

3. **æª¢æŸ¥ç£ç¢Ÿç©ºé–“**

   ```bash
   df -h .
   ```

4. **æª¢æŸ¥æª”æ¡ˆç³»çµ±éŒ¯èª¤**

   ```bash
   # macOS
   diskutil verifyVolume /

   # Linux
   sudo fsck -n /dev/sda1
   ```

### Memory ç›®éŒ„çµæ§‹

```
.claude/memory/
â”œâ”€â”€ research/          # ç ”ç©¶å ±å‘Š
â”œâ”€â”€ plans/             # å¯¦ä½œè¨ˆåŠƒ
â”œâ”€â”€ implementations/   # å¯¦ä½œè¨˜éŒ„
â”œâ”€â”€ reviews/           # å¯©æŸ¥çµæœ
â”œâ”€â”€ verifications/     # é©—è­‰çµæœ
â”œâ”€â”€ metrics/           # æŒ‡æ¨™æ•¸æ“š
â””â”€â”€ workflows/         # å·¥ä½œæµå…ƒæ•¸æ“š
```

### å¸¸è¦‹æª”æ¡ˆ

| æª”æ¡ˆ | ç”¨é€” | å¿…è¦æ€§ |
|------|------|--------|
| meta.yaml | å…ƒæ•¸æ“š | å¿…è¦ |
| overview.md | æ¦‚è¿° | é¸ç”¨ |
| synthesis.md | åŒ¯ç¸½å ±å‘Š | ä¾éšæ®µ |
| perspectives/ | è¦–è§’å ±å‘Š | ä¾éšæ®µ |

## é é˜²æªæ–½

### 1. å®šæœŸå‚™ä»½

å®šæœŸå‚™ä»½ Memory ç›®éŒ„ï¼š

```bash
tar -czf memory-backup-$(date +%Y%m%d).tar.gz .claude/memory/
```

### 2. æª¢æŸ¥ç£ç¢Ÿç©ºé–“

ç¢ºä¿æœ‰è¶³å¤ çš„ç£ç¢Ÿç©ºé–“ï¼š

```bash
# åŠ å…¥åˆ° pre-commit hook æˆ–å·¥ä½œæµé–‹å§‹æ™‚
df -h . | awk 'NR==2 {if ($5+0 > 90) exit 1}'
```

### 3. ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶

è€ƒæ…®å°‡ Memory ç›®éŒ„ç´å…¥ç‰ˆæœ¬æ§åˆ¶ï¼ˆé¸æ“‡æ€§ï¼‰ï¼š

```bash
# .gitignore
.claude/memory/metrics/  # åªæ’é™¤æŒ‡æ¨™
```

### 4. æ¬Šé™ç®¡ç†

è¨­å®šæ­£ç¢ºçš„é è¨­æ¬Šé™ï¼š

```bash
umask 022  # æ–°æª”æ¡ˆé è¨­ 644ï¼Œç›®éŒ„ 755
```

## ç›¸é—œéŒ¯èª¤

- [E-MEM-002](./E-MEM-002.md) - å¯«å…¥å¤±æ•—
- [E-MEM-004](./E-MEM-004.md) - æ ¼å¼éŒ¯èª¤
- [E-MEM-006](./E-MEM-006.md) - æ¬Šé™éŒ¯èª¤

## åƒè€ƒè³‡æ–™

- [éŒ¯èª¤ç¢¼å®šç¾©](../../shared/errors/error-codes.md)
- [Memory çµæ§‹](../../shared/metrics/memory-structure.md)
