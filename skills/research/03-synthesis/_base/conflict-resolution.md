# Conflict Resolution

> 矛盾解決：分析分歧原因，找出最佳解決方案

## 矛盾類型

### Type A: 觀點矛盾

不同視角對同一問題有不同看法

```
架構分析師：「應該使用微服務」
業界研究員：「單體架構更適合」
```

### Type B: 建議矛盾

不同視角推薦互斥的解決方案

```
工作流設計師：「使用 GitHub Actions」
業界研究員：「使用 Jenkins」
```

### Type C: 優先級矛盾

不同視角對重要性排序不同

```
架構分析師：「效能 > 可維護性」
認知研究員：「可維護性 > 效能」
```

## 解決流程

```
┌─────────────────────────────────────────────────────────┐
│  Step 1: 矛盾分類                                       │
│  識別矛盾類型（A/B/C）                                  │
└─────────────────────────────────────────────────────────┘
         ↓
┌─────────────────────────────────────────────────────────┐
│  Step 2: 根因分析                                       │
│  • 假設不同？                                           │
│  • 上下文不同？                                         │
│  • 權重不同？                                           │
└─────────────────────────────────────────────────────────┘
         ↓
┌─────────────────────────────────────────────────────────┐
│  Step 3: 解決嘗試                                       │
│  • 嘗試合成解決方案                                     │
│  • 或確定條件式建議                                     │
│  • 或標記需進一步研究                                   │
└─────────────────────────────────────────────────────────┘
         ↓
┌─────────────────────────────────────────────────────────┐
│  Step 4: 記錄決策                                       │
│  記錄解決方案和理由                                     │
└─────────────────────────────────────────────────────────┘
```

## 根因分析

### 常見矛盾原因

| 原因 | 說明 | 解決方向 |
|------|------|---------|
| 假設不同 | 視角基於不同前提 | 明確列出假設 |
| 上下文不同 | 適用場景不同 | 條件式建議 |
| 時間維度 | 短期 vs 長期考量 | 分階段建議 |
| 權重不同 | 優先級評估不同 | 讓用戶決定 |
| 資訊差異 | 某視角有更新資訊 | 以最新為準 |

### 分析問題清單

```markdown
## 矛盾分析：[矛盾 ID]

### 矛盾內容
- 視角 A 說：...
- 視角 B 說：...

### 根因探索
1. 假設差異？
   - A 假設：...
   - B 假設：...

2. 上下文差異？
   - A 適用於：...
   - B 適用於：...

3. 時間維度差異？
   - A 考慮：短期/長期
   - B 考慮：短期/長期

4. 證據強度？
   - A 的支持：...
   - B 的支持：...
```

## 解決策略

### 策略 1: 合成解決

找出兼顧雙方優點的方案

```
矛盾：微服務 vs 單體
合成：先用模組化單體，未來可拆分為微服務
```

### 策略 2: 條件式建議

根據不同條件給予不同建議

```
矛盾：GitHub Actions vs Jenkins

解決：
- 如果是小團隊 + 新專案 → GitHub Actions
- 如果是大團隊 + 既有基礎設施 → Jenkins
```

### 策略 3: 階段式建議

根據不同階段給予不同建議

```
矛盾：效能優先 vs 可維護性優先

解決：
- MVP 階段：可維護性優先（快速迭代）
- 成熟階段：效能優先（規模化）
```

### 策略 4: 標記未解決

如果無法合理解決，明確標記

```
矛盾：關於 X 的最佳實踐

結論：需進一步研究
原因：現有證據不足以判定
建議：進行實際 POC 驗證
```

## 多輪分析

對於複雜矛盾，使用多輪 Task 分析：

### Round 1: 深度比較

```
任務：詳細比較視角 A 和 B 的論點

分析：
1. 各自的核心論點
2. 支持證據
3. 潛在弱點
```

### Round 2: 第三方評估

```
任務：從中立角度評估矛盾

考量：
1. 哪方論點更有說服力？
2. 是否有遺漏的考量因素？
3. 最佳妥協方案是什麼？
```

### Round 3: 最終決策

```
任務：產出最終建議

輸出：
1. 推薦方案
2. 決策理由
3. 風險提醒
```

## 記錄格式

### 已解決矛盾

```markdown
### 矛盾 #1: 微服務 vs 單體架構

**衝突視角**
- 架構分析師：推薦微服務（可擴展性）
- 業界研究員：推薦單體（團隊規模）

**根因**
上下文假設不同：團隊規模、預期成長

**解決方案**
條件式建議：
- 團隊 < 10 人：模組化單體
- 團隊 > 10 人 或 預期快速成長：微服務

**決策依據**
康威定律：架構應匹配組織結構
```

### 未解決矛盾

```markdown
### 矛盾 #2: 快取策略選擇

**衝突視角**
- 架構分析師：Redis（功能豐富）
- 業界研究員：Memcached（簡單高效）

**根因**
各有適用場景，現有資訊不足以判定

**狀態**
需進一步研究

**建議行動**
1. 進行效能基準測試
2. 評估團隊熟悉度
3. 考慮現有基礎設施
```

## 輸出

矛盾解決完成後，更新匯總報告中的「矛盾分析」章節。
