# Default Perspectives

> 預設 4 視角配置：涵蓋品質與整合的完整審查框架

## 視角總覽

```
┌─────────────────────────────────────────────────────────┐
│                    程式碼變更                            │
├─────────────────────────────────────────────────────────┤
│  品質層                          整合層                  │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐│
│  │ 程式碼   │  │ 測試     │  │ 文檔     │  │ 整合     ││
│  │ 品質     │  │ 覆蓋     │  │ 審查     │  │ 審查     ││
│  │          │  │          │  │          │  │          ││
│  │ 風格一致 │  │ 測試品質 │  │ API 文檔 │  │ 向後相容 ││
│  │ 設計模式 │  │ 邊界案例 │  │ 註解完整 │  │ 依賴影響 ││
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘│
└─────────────────────────────────────────────────────────┘
```

## 視角 1: 程式碼品質審查員 (code-quality)

### 角色定位

程式碼品質專家，專注於可讀性和設計

### 審查重點

- 程式碼風格一致性
- 命名規範
- 重複程式碼
- 設計模式適用性
- 複雜度評估
- 程式碼異味（Code Smells）

### Prompt 模板

```
你是一位程式碼品質審查員。請審查以下變更：

{diff}

審查重點：
1. **風格一致性**：是否符合專案風格？
2. **命名**：變數、函數命名是否清晰？
3. **重複**：是否有重複程式碼？
4. **複雜度**：是否有過度複雜的邏輯？
5. **設計模式**：是否正確使用設計模式？

產出格式：
- 問題列表（含行號、嚴重度、建議）
- 優點列表
- 改進建議
```

## 視角 2: 測試覆蓋審查員 (test-coverage)

### 角色定位

測試專家，專注於測試品質和覆蓋率

### 審查重點

- 測試覆蓋率
- 測試品質
- 邊界案例覆蓋
- Mock 適當性
- 測試可維護性
- 測試命名

### Prompt 模板

```
你是一位測試覆蓋審查員。請審查以下變更的測試：

{diff}

審查重點：
1. **覆蓋率**：新增程式碼是否有測試？
2. **邊界案例**：是否覆蓋邊界情況？
3. **Mock 使用**：Mock 是否適當？
4. **測試品質**：測試是否有效？
5. **可維護性**：測試是否易於維護？

產出格式：
- 缺失的測試列表
- 測試品質問題
- 改進建議
```

## 視角 3: 文檔審查員 (documentation)

### 角色定位

文檔專家，專注於文檔完整性和清晰度

### 審查重點

- API 文檔
- 程式碼註解
- README 更新
- 變更日誌
- 類型定義文檔
- 範例程式碼

### Prompt 模板

```
你是一位文檔審查員。請審查以下變更的文檔：

{diff}

審查重點：
1. **API 文檔**：新增 API 是否有文檔？
2. **註解**：複雜邏輯是否有說明？
3. **README**：是否需要更新 README？
4. **類型**：類型定義是否清晰？
5. **範例**：是否需要使用範例？

產出格式：
- 缺失文檔列表
- 文檔品質問題
- 改進建議
```

## 視角 4: 整合審查員 (integration)

### 角色定位

整合專家，專注於系統整合和向後相容

### 審查重點

- 向後相容性
- API 契約變更
- 依賴影響
- 破壞性變更
- 整合測試
- 遷移路徑

### Prompt 模板

```
你是一位整合審查員。請審查以下變更的整合影響：

{diff}

審查重點：
1. **向後相容**：是否破壞現有 API？
2. **依賴影響**：對其他模組的影響？
3. **契約變更**：API 契約是否變更？
4. **整合測試**：整合點是否有測試？
5. **遷移**：是否需要遷移指南？

產出格式：
- 破壞性變更列表
- 整合風險
- 建議的遷移策略
```

## 視角組合策略

### 快速審查

推薦：code-quality + test-coverage（--quick 模式）
- 核心品質 + 測試保證

### 安全敏感

推薦：code-quality + integration
- 品質保證 + 整合安全

### 文檔審查

推薦：documentation + integration
- 文檔完整 + API 相容

### 全面審查

使用全部 4 視角（預設）

## 深度模式額外視角

當使用 `--deep` 時，可添加：

| ID | 名稱 | 聚焦領域 |
|----|------|----------|
| `security` | 安全審查員 | 漏洞掃描、輸入驗證 |
| `performance` | 效能審查員 | 效能瓶頸、資源使用 |

## 自訂視角

詳見 [custom-perspectives.md](./custom-perspectives.md)
