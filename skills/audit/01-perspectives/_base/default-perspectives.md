# Audit 視角定義

本 Skill 的視角定義集中管理於 `shared/perspectives/catalog.yaml`。

## 引用方式

```yaml
# 從 catalog.yaml 載入本 skill 適用的視角
perspectives:
  source: shared/perspectives/catalog.yaml
  filter:
    category: audit
  preset: standard  # 預設使用 4 視角
```

## 視角列表

### 標準模式 (4 視角)

| ID | 名稱 | 關注重點 | 模型層級 | 方法 |
|----|------|----------|----------|------|
| `dependency-auditor` | 依賴分析師 | import/require 掃描、循環依賴、方向違反 | sonnet | explore |
| `pattern-checker` | 模式一致性檢查員 | 錯誤處理、命名慣例、API 介面風格 | haiku | explore |
| `coverage-auditor` | 測試覆蓋分析師 | 缺少測試的模組、測試品質、mock 濫用 | haiku | explore |
| `doc-sync-checker` | 文檔同步檢查員 | 代碼與文檔比對、過時文檔、API 文檔完整性 | haiku | explore |

### 快速模式 (2 視角)

| ID | 名稱 | 關注重點 |
|----|------|----------|
| `dependency-auditor` | 依賴分析師 | 依賴方向、循環依賴 |
| `pattern-checker` | 模式一致性檢查員 | 錯誤處理、命名慣例 |

### 深度模式 (6 視角)

標準 4 視角 + 跨領域視角：

| ID | 名稱 | 關注重點 |
|----|------|----------|
| `security-auditor` | 安全審計員 | OWASP 和安全最佳實踐 |
| `performance-optimizer` | 效能優化師 | 時間複雜度和記憶體效能 |

## 視角協作模式

```
+--------------------------------------------------------------+
|                    目標 Codebase                               |
+--------------------------------------------------------------+
|  結構層                              品質層                    |
|  +-----------------+  +-----------------+  +-----------------+|
|  | 依賴分析師      |  | 模式一致性      |  | 測試覆蓋        ||
|  |                 |  | 檢查員          |  | 分析師          ||
|  |                 |  |                 |  |                 ||
|  | import 掃描     |  | 錯誤處理模式    |  | 未覆蓋模組      ||
|  | 循環依賴        |  | 命名慣例        |  | 測試品質        ||
|  | 方向違反        |  | API 風格        |  | mock 濫用       ||
|  +-----------------+  +-----------------+  +-----------------+|
|                                                               |
|  文檔層                                                       |
|  +-----------------+                                          |
|  | 文檔同步        |                                          |
|  | 檢查員          |                                          |
|  |                 |                                          |
|  | 文檔 vs 代碼    |                                          |
|  | 過時文檔        |                                          |
|  | API 文檔完整    |                                          |
|  +-----------------+                                          |
+--------------------------------------------------------------+
```

## 視角組合策略

| 場景 | 推薦組合 | 說明 |
|------|----------|------|
| 快速檢查 | dependency-auditor + pattern-checker | 核心架構 + 模式一致 |
| 測試導向 | coverage-auditor + pattern-checker | 測試缺口 + 品質模式 |
| 文檔審查 | doc-sync-checker + pattern-checker | 文檔同步 + 命名一致 |
| 全面審查 | 全部 4 視角 | 預設模式 |
| 深度審查 | 4 視角 + security + performance | 含安全與效能 |

## 審查輸出格式

各視角產出包含：
- 問題列表（含檔案路徑、行號、嚴重度、建議）
- 統計摘要（問題數量分佈）
- 修復建議（按優先級排序）

完整定義請參考 [catalog.yaml](../../../../shared/perspectives/catalog.yaml)。
